<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/style.css" >
        <title>Activity - OculusDB</title>
        <meta property="og:title" content="Activity - OculusDB">
        <meta property="og:description" content="Information about some activity">
        {meta}
    </head>
    <body>
        <div class="content">
            <h2>OculusDB Info</h2>
            <a href="/api/activityid/{0}">Raw Json</a>
            <table>
                <tr><td>OculusDB Type</td><td id="type">Fetching...</td></tr>
                <tr><td>Activity id</td><td id="id">Fetching...</td></tr>
                <tr><td>Last Updated</td><td id="lastUpdated">Fetching...</td></tr>
            </table>
            <div>
                <h2>Selected Activity</h2>
                
                <div id="this"><div class="loader"></div></div>
            </div>

        </div>
        <script src="/script.js"></script>
        <script>
            const id = "{0}"

            var activity = {}


            GetActivityById(id).then(res => {
                activity = res
                document.getElementById("type").innerHTML = activity.__OculusDBType
                document.getElementById("id").innerHTML = activity.__id
                document.getElementById("lastUpdated").innerHTML = new Date(activity.__lastUpdated).toLocaleString()
                document.getElementById("this").innerHTML = AutoFormat(activity)
            }).catch(err => {
                if(err == 404) {
                    alert("The item has not been found")
                } else if(err == 500) {
                    alert("Internal Server error")
                } else {
                    alert("An unknown error occurred")
                }
            })
        </script>
    </body>
</html>