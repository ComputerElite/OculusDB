<!DOCTYPE html>
<html>
    <head>
        {meta}
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link href='/style.css' rel='stylesheet' type='text/css'>
        <title>Live console - OculusDB</title>
        <meta property="og:title" content="Live console - OculusDB">
        <meta property="og:description" content="Why can you see this">
        
    </head>
    <body>
        <div class="content">
            <a href="/admin" style="position: absolute; top: 5px; left: 20px;">Back to admin panel</a>
            <div style="display: flex; justify-content: center; flex-direction: column; align-items: center;">
                <h1>Live console</h1>
                <textarea style="width: 100%; height: 70vh; background-color: #000000; color: #EEEEEE; font-family: Consolas; border: none;" id="output"></textarea>
                <label class="checkmarkContainer">Auto scroll with output
                    <input id="scroll" type='checkbox' checked>
                    <span class="checkmark"></span>
                </label>
                
            </div>
        </div>
        <script src="/script.js"></script>
        <script>
            const console = document.getElementById("output")
            const scroll = document.getElementById("scroll")

            setInterval(() => {
                fetch("/api/v1/serverconsole").then(res => res.text().then(text => {
                    console.value += text
                    if(scroll.checked) console.scrollTop = console.scrollHeight
                }))
            }, 2000);
        </script>
    </body>
</html>